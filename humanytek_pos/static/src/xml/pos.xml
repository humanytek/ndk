<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="NumpadWidget">
        <div class="numpad">
            <button class="input-button number-char">1</button>
            <button class="input-button number-char">2</button>
            <button class="input-button number-char">3</button>
            <button class="mode-button" data-mode='quantity'>Qty</button>
            <br />
            <button class="input-button number-char">4</button>
            <button class="input-button number-char">5</button>
            <button class="input-button number-char">6</button>
            <button class="mode-button" data-mode='discount'>Disc</button>
            <br />
            <button class="input-button number-char">7</button>
            <button class="input-button number-char">8</button>
            <button class="input-button number-char">9</button>
            <button class="mode-button" data-mode='price' style="visibility: hidden;">Price</button>
            <br />
            <button class="input-button numpad-minus" >+/-</button>
            <button class="input-button number-char">0</button>
            <button class="input-button number-char">.</button>
            <button class="input-button numpad-backspace">
                <img src="/point_of_sale/static/src/img/backspace.png" width="24" height="21" />
            </button>
            <br />
        </div>
    </t>
    
    <t t-extend="PosWidget">
        <t t-jquery="div.pos div.pos-topheader div.pos-branding" t-operation="append">
            <button class="replacement-button" value = "inactive" id="custom_refund_button" 
            	style="font-size: 14px;font-style: bold; margin-top:1px;height:46px;'background':'#35586C';padding:5px 30px" >Refund Products</button>
        	<select style=" padding: 14px;
			    border-radius: 3px;
			    border: solid 1px #cecbcb;
			    background:'#EEEEEE';
			    color: #555555;
			    width: 195px;
			    font-size: 14px;
			    box-sizing: border-box;" id='orders_all'>
            </select>
        </t>
    </t>
    
	<t t-extend="PaymentScreenWidget">
		<t t-jquery="div.payment-info" t-operation="append">
			<div class="infoline bigger" >
                <span class='left-block'>
                    Sale person
                </span>
                <span class="right-block">
                	<select style=" padding: 8px;
					    border-radius: 3px;
					    border: solid 1px #cecbcb;
					    margin-bottom: 4px;
					    background: white;
					    color: #555555;
					    width: 180px;
					    font-size: 14px;
					    box-sizing: border-box;" id="saleperson">
	                    <t t-foreach='widget.pos.users' t-as='user'>
                            <option t-att-value='user.id' t-att-selected="user === widget.pos.user ? 'selected' : undefined">
                            	<t t-esc='user.name'/>
                            </option>
                        </t>
	                </select>
                </span>
            </div>
		</t>
	</t>
	
	<t t-name="CustomValidatePopupWidget">
        <div class="modal-dialog">
            <div class="popup popup-refund" style="height:200px; width:360px">
                <p class="message"><t t-esc=" widget.message || 'Confirm ?' " /></p>
                <input id="password" style="width:250px; height:28px; font-size:22px" type='password' class="tex"></input>
                <p class="password_error" style="font-weight: normal;font-size: 14px;margin: 0px 16px;color:red"><t t-esc=" widget.password_error || '' "/></p>
                <div class="footer">
                    <div class="button confirm" style="line-height:35px; height:35px; width:80px">
                        Validate 
                    </div>
                    <div class="button cancel" style="line-height:35px; height:35px; width:80px">
                        Cancel 
                    </div>
                </div>
            </div>
        </div>
    </t>
    
    <t t-name="PosTicket">
        <div class="pos-sale-ticket">
            
        	<div id="company_logo" style="text-align:center;">
        		<img t-att-src="'data:image/png;base64,'+ widget.pos.company.logo" height="100px" width="100px"/>
        	</div>
        	
            <div class="pos-center-align"><t t-esc="new Date().toString(Date.CultureInfo.formatPatterns.shortDate + ' ' +
                Date.CultureInfo.formatPatterns.longTime)"/> <t t-esc="order.get('name')"/></div>
            <br />
            <t t-esc="widget.pos.company.name"/><br />
            <t t-esc="widget.pos.company.street"/><br />
            <t t-esc="widget.pos.company.street2"/><br />
            <t t-esc="widget.pos.company.city"/><br />
            <t t-esc="widget.pos.company.state_id[1]"/><br />
            <t t-esc="widget.pos.company.zip"/><br />
            <t t-esc="widget.pos.company.country_id[1]"/><br />
            Phone: <t t-esc="widget.pos.company.phone || ''"/><br />
            User: <t t-esc="saleperson"/><br />
<!--            User: <t t-esc="widget.pos.cashier ? widget.pos.cashier.name : widget.pos.user.name"/><br /-->
            Shop: <t t-esc="widget.pos.shop.name"/><br />
            <br />
            <t t-if="widget.pos.config.receipt_header">
                <div style='text-align:center'>
                    <t t-esc="widget.pos.config.receipt_header" />
                </div>
                <br />
            </t>
            <table>
                <colgroup>
                    <col width='50%' />
                    <col width='25%' />
                    <col width='25%' />
                </colgroup>
                <tr t-foreach="orderlines" t-as="orderline">
                    <td>
                        <t t-esc="orderline.get_product().display_name"/>
                         <t t-if="orderline.get_discount() > 0">
                            <div class="pos-disc-font">
                                With a <t t-esc="orderline.get_discount()"/>% discount
                            </div>
                        </t>
                    </td>
                    <td class="pos-right-align">
                        <t t-esc="orderline.get_quantity_str_with_unit()"/>
                    </td>
                    <td class="pos-right-align">
                        <t t-esc="widget.format_currency(orderline.get_display_price())"/>
                    </td>
                </tr>
            </table>
            <br />
            <table>
                <tr>
                    <td>Subtotal:</td>
                    <td class="pos-right-align">
                        <t t-esc="widget.format_currency(order.getSubtotal())"/>
                    </td>
                </tr>
                <t t-foreach="order.getTaxDetails()" t-as="taxdetail">
                    <tr>
                        <td><t t-esc="taxdetail.name" /></td>
                        <td class="pos-right-align">
                            <t t-esc="widget.format_currency(taxdetail.amount)" />
                        </td>
                    </tr>
                </t>
                <tr>
                    <td>Discount:</td>
                    <td class="pos-right-align">
                        <t t-esc="widget.format_currency(order.getDiscountTotal())"/>
                    </td>
                </tr>
                <tr class="emph">
                    <td>Total:</td>
                    <td class="pos-right-align">
                        <t t-esc="widget.format_currency(order.getTotalTaxIncluded())"/>
                    </td>
                </tr>
            </table>
            <br />
            <table>
                <tr t-foreach="paymentlines" t-as="line">
                    <td>
                        <t t-esc="line.name"/>
                    </td>
                    <td class="pos-right-align">
                        <t t-esc="widget.format_currency(line.get_amount())"/>
                    </td>
                </tr>
            </table>
            <br />
            <table>
                <tr><td>Change:</td><td class="pos-right-align">
                    <t t-esc="widget.format_currency(order.getChange())"/>
                    </td></tr>
            </table>
            <t t-if="widget.pos.config.receipt_footer">
                <br />
                <div style='text-align:center'>
                    <t t-esc="widget.pos.config.receipt_footer" />
                </div>
            </t>
        </div>
    </t>
	
</templates>